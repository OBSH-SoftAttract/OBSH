package data.dao.impl;

import java.util.Map;

import data.dao.HotelDao;
import data.datahelper.DataFactory;
import data.datahelper.HotelDataHelper;
import data.datahelper.UserDataHelper;
import data.datahelper.impl.DataFactoryImpl;
import po.HotelPo;
import po.UserPo;

public class HotelDaoImpl implements HotelDao {
	
	private Map<Integer,HotelPo> map;
	
	private HotelDataHelper hotelDataHelper;
	
	private DataFactory dataFactory;
	
	private static HotelDaoImpl hotelDataServiceImpl;
	
	public static HotelDaoImpl getInstance(){
		if(hotelDataServiceImpl == null){
			hotelDataServiceImpl = new HotelDaoImpl();
		}
		return hotelDataServiceImpl;
	}
	
	public HotelDaoImpl(){
		if(map == null){
			dataFactory = new DataFactoryImpl();
			hotelDataHelper = dataFactory.getHotelDataHelper();
			map = hotelDataHelper.getHotel();
		}
	}
	
	@Override
	public HotelPo getHotel(int hotelId) {
		// TODO Auto-generated method stub
		return map.get(hotelId);
	}

	@Override
	public boolean updateHotel(HotelPo hotelPo) {
		// TODO Auto-generated method stub
		int hotelId = hotelPo.getHotelNo();
		if(map.get(hotelId) != null){
			map.put(hotelId, hotelPo);
			hotelDataHelper.updateHotel(map);
			return true;
		}
		return false;

	}

	@Override
	public boolean addHotelPo(HotelPo hotelPo) {
		// TODO Auto-generated method stub
		int hotelId = hotelPo.getHotelNo();
		if(map.get(hotelId)==null){
			hotelDataHelper.addHotelPo(hotelPo);
			return true;
		}
		return false;
		
		/*int hotelId = hotelPo.getHotelNo();  这里提供了第二种方法 不直接访问数据库 但可能数据层复杂
		if(map.get(hotelId)==null) {           将增加信息的map传入数据层中 遍历某一条数据库中没有 则加入
			map.put(hotelId, hotelPo);
			hotelDataHelper.addHotelPo(map);
			return true;
		}*/
	}

	@Override
	public boolean deleteOrderPo(int hotelId) {
		// TODO Auto-generated method stub
		return false;
	}

}
